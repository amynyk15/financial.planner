<!DOCTYPE html>
<html lang="zh-HK" class="dark">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>FinPlan - 60-10-30 è²¡å‹™è¦åŠƒå™¨</title>
  <script src="https://cdn.tailwindcss.com"></script>
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">
  <style>
    body { font-family: 'Inter', system-ui, sans-serif; background: #0f0f1a; color: #e5e7eb; }
    .purple-gradient { background: linear-gradient(135deg, #8b5cf6, #c084fc); }
    .card { background: #1e1e2e; border-radius: 1rem; box-shadow: 0 10px 15px -3px rgba(0,0,0,0.3); }
    .glass { background: rgba(30,30,46,0.8); backdrop-filter: blur(12px); }
  </style>
</head>
<body class="min-h-screen bg-gradient-to-br from-[#0f0f1a] to-[#1a1a2e]">

  <!-- Login Screen -->
  <div id="login-screen" class="fixed inset-0 flex items-center justify-center z-50 bg-black/80">
    <div class="card w-full max-w-md p-10 text-center">
      <div class="flex justify-center mb-8">
        <div class="w-16 h-16 purple-gradient rounded-2xl flex items-center justify-center text-white font-bold text-4xl">F</div>
      </div>
      <h1 class="text-3xl font-bold mb-2">æ­¡è¿å›ä¾†ï¼ŒYin Kwan</h1>
      <p class="text-gray-400 mb-8">ç™»å…¥ä½ çš„ 60-10-30 è²¡å‹™è¨ˆåŠƒ</p>
      
      <div class="space-y-6">
        <div>
          <label class="block text-sm text-left text-gray-400 mb-1">é›»éƒµ / ç”¨æˆ¶å</label>
          <input id="email" type="text" value="yinkwan@finplan.hk" 
                 class="w-full bg-[#2d2d44] border border-[#3a3a55] rounded-xl px-5 py-3 focus:outline-none focus:border-purple-500">
        </div>
        <div>
          <label class="block text-sm text-left text-gray-400 mb-1">å¯†ç¢¼</label>
          <input id="password" type="password" placeholder="è¼¸å…¥å¯†ç¢¼ (ä»»ä½•å‡å¯æ¸¬è©¦)" 
                 class="w-full bg-[#2d2d44] border border-[#3a3a55] rounded-xl px-5 py-3 focus:outline-none focus:border-purple-500">
        </div>
        <button onclick="handleLogin()" 
                class="w-full purple-gradient text-white font-semibold py-4 rounded-2xl hover:scale-105 transition">
          ç™»å…¥
        </button>
      </div>
      <p class="text-xs text-gray-500 mt-8">æç¤ºï¼šå¯†ç¢¼éš¨ä¾¿è¼¸å…¥å³å¯é€²å…¥ï¼ˆæ¨¡æ“¬ç™»å…¥ï¼‰</p>
    </div>
  </div>

  <!-- Dashboard (éš±è—ç›´åˆ°ç™»å…¥) -->
  <div id="dashboard" class="hidden">

    <!-- Sidebar -->
    <div class="fixed inset-y-0 left-0 w-64 bg-[#1a1a2e] border-r border-[#2d2d44] p-6 flex flex-col">
      <div class="flex items-center mb-10">
        <div class="w-10 h-10 purple-gradient rounded-full flex items-center justify-center text-white font-bold text-xl">F</div>
        <span class="ml-3 text-2xl font-bold tracking-tight">FinPlan</span>
      </div>
      <nav class="space-y-1 flex-1">
        <a href="#" class="flex items-center px-4 py-3 bg-[#2d2d44] rounded-2xl text-purple-400 font-medium">
          <span class="mr-3">ğŸ“Š</span> Dashboard
        </a>
        <a href="#" class="flex items-center px-4 py-3 hover:bg-[#2d2d44] rounded-2xl transition">
          <span class="mr-3">ğŸ’³</span> äº¤æ˜“è¨˜éŒ„
        </a>
        <a href="#" class="flex items-center px-4 py-3 hover:bg-[#2d2d44] rounded-2xl transition">
          <span class="mr-3">ğŸ“‰</span> 60-10-30 è¨ˆåŠƒ
        </a>
        <a href="#" class="flex items-center px-4 py-3 hover:bg-[#2d2d44] rounded-2xl transition">
          <span class="mr-3">ğŸ¯</span> å„²è“„ç›®æ¨™
        </a>
        <a href="#" class="flex items-center px-4 py-3 hover:bg-[#2d2d44] rounded-2xl transition">
          <span class="mr-3">ğŸ“ˆ</span> åˆ†æ
        </a>
      </nav>
      <div class="pt-6 border-t border-[#2d2d44]">
        <button onclick="logout()" class="flex items-center text-red-400 hover:text-red-300 text-sm">
          <span class="mr-2">ğŸšª</span> ç™»å‡º
        </button>
      </div>
    </div>

    <!-- Main Content -->
    <div class="ml-64 p-8 min-h-screen">
      <!-- Top Bar -->
      <div class="flex justify-between items-center mb-10">
        <div>
          <h1 class="text-3xl font-bold">Welcome back, Yin Kwan! ğŸ‘‹</h1>
          <p class="text-gray-400">ä»Šæ—¥ä¿‚ 2026 å¹´ 2 æœˆ 24 æ—¥ â€¢ è‘µé’å€ â€¢ ç„¡ç§Ÿç”Ÿæ´»</p>
        </div>
        <div class="flex items-center gap-4">
          <div class="glass px-5 py-2 rounded-3xl flex items-center gap-3">
            <span class="text-sm text-gray-400">æœˆå…¥</span>
            <input id="income-input" type="number" value="15000" 
                   oninput="updateAllCalculations()"
                   class="bg-transparent text-2xl font-semibold w-32 focus:outline-none text-right">
            <span class="text-purple-400">$</span>
          </div>
          <div class="w-10 h-10 bg-purple-600 rounded-2xl flex items-center justify-center text-xl">ğŸ§‘â€ğŸ’¼</div>
        </div>
      </div>

      <!-- Summary Cards -->
      <div class="grid grid-cols-1 md:grid-cols-4 gap-6 mb-10">
        <div class="card p-6">
          <p class="text-gray-400 text-sm">ç¸½çµé¤˜</p>
          <p id="total-balance" class="text-4xl font-bold mt-2">$32,913</p>
          <p class="text-green-400 text-sm mt-1">â†‘ 12.1% vs ä¸Šæœˆ</p>
        </div>
        <div class="card p-6">
          <p class="text-gray-400 text-sm">æœ¬æœˆæ”¶å…¥</p>
          <p id="income-display" class="text-4xl font-bold mt-2">$15,000</p>
          <p class="text-green-400 text-sm mt-1">å·²è‡ªå‹•æ‰£ MPF</p>
        </div>
        <div class="card p-6">
          <p class="text-gray-400 text-sm">æœ¬æœˆé–‹æ”¯</p>
          <p class="text-4xl font-bold mt-2 text-red-400">$6,222</p>
          <p class="text-red-400 text-sm mt-1">â†‘ 2.4% vs ä¸Šæœˆ</p>
        </div>
        <div class="card p-6">
          <p class="text-gray-400 text-sm">ç¸½å„²è“„</p>
          <p id="total-savings" class="text-4xl font-bold mt-2">$32,913</p>
          <p class="text-green-400 text-sm mt-1">â†‘ 12.1% vs ä¸Šæœˆ</p>
        </div>
      </div>

      <!-- 60-10-30 Calculator Widget -->
      <div class="card p-8 mb-10">
        <div class="flex justify-between items-center mb-6">
          <h2 class="text-2xl font-semibold">60-10-30 è‡ªå‹•åˆ†é…è¨ˆç®—å™¨</h2>
          <div class="text-sm px-4 py-1.5 bg-purple-900/30 text-purple-400 rounded-3xl">å¯¦æ™‚æ›´æ–°</div>
        </div>
        <div class="grid grid-cols-1 md:grid-cols-3 gap-6">
          <!-- 60% Necessities -->
          <div class="bg-[#25253a] rounded-3xl p-6">
            <div class="flex justify-between mb-4">
              <div>
                <p class="text-emerald-400 text-xl font-medium">60% å¿…éœ€é–‹æ”¯</p>
                <p id="nec-amount" class="text-4xl font-bold mt-2">$9,000</p>
              </div>
              <div class="text-6xl text-emerald-400/20">ğŸ </div>
            </div>
            <div class="h-2 bg-[#2d2d44] rounded-full overflow-hidden">
              <div class="h-2 bg-emerald-500 w-[60%] rounded-full"></div>
            </div>
            <p class="text-xs text-gray-400 mt-3">é£²é£Ÿãƒ»äº¤é€šãƒ»æ°´é›»ãƒ»æ—¥ç”¨å“</p>
          </div>

          <!-- 10% Enjoyment -->
          <div class="bg-[#25253a] rounded-3xl p-6">
            <div class="flex justify-between mb-4">
              <div>
                <p class="text-amber-400 text-xl font-medium">10% ç´”äº«å—</p>
                <p id="enjoy-amount" class="text-4xl font-bold mt-2">$1,500</p>
              </div>
              <div class="text-6xl text-amber-400/20">â˜•</div>
            </div>
            <div class="h-2 bg-[#2d2d44] rounded-full overflow-hidden">
              <div class="h-2 bg-amber-500 w-[10%] rounded-full"></div>
            </div>
            <p class="text-xs text-gray-400 mt-3">å’–å•¡ãƒ»å¤–å‡ºãƒ»å¨›æ¨‚ãƒ»ç¶²è³¼</p>
          </div>

          <!-- 30% Savings & Fund -->
          <div class="bg-[#25253a] rounded-3xl p-6 relative overflow-hidden">
            <div class="flex justify-between mb-4">
              <div>
                <p class="text-purple-400 text-xl font-medium">30% å„²è“„ + æŠ•è³‡</p>
                <p id="save-amount" class="text-4xl font-bold mt-2">$4,500</p>
              </div>
              <div class="text-6xl text-purple-400/20">ğŸ’°</div>
            </div>
            <div class="h-2 bg-[#2d2d44] rounded-full overflow-hidden">
              <div class="h-2 purple-gradient w-[30%] rounded-full"></div>
            </div>
            
            <!-- Fund Highlight -->
            <div class="mt-8 pt-6 border-t border-[#3a3a55] flex items-center justify-between">
              <div>
                <p class="text-xs text-gray-400">æ¯é€±åŸºé‡‘æœˆä¾›</p>
                <p id="weekly-fund" class="font-semibold">$1,000</p>
              </div>
              <div class="text-right">
                <p class="text-xs text-gray-400">æ¯æœˆåŸºé‡‘ç¸½é¡</p>
                <p id="monthly-fund" class="font-semibold text-purple-400">$4,333</p>
              </div>
            </div>
            <p class="text-xs text-gray-400 mt-1">å‰©é¤˜ç¾é‡‘å„²è“„ â‰ˆ $167ï¼ˆæ”¾ ZA/Mox é«˜æ¯ï¼‰</p>
          </div>
        </div>
      </div>

      <!-- Money Flow & Budget Ring (ä¿æŒåŸè¨­è¨ˆ) -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6 mb-10">
        <div class="card p-6">
          <h2 class="text-xl font-semibold mb-4">Money Flow (60-10-30)</h2>
          <canvas id="moneyFlowChart" height="220"></canvas>
        </div>
        <div class="card p-6">
          <h2 class="text-xl font-semibold mb-4">æœ¬æœˆé ç®—ç’°</h2>
          <div class="flex justify-center my-4">
            <div class="relative w-56 h-56">
              <svg class="w-full h-full -rotate-90" viewBox="0 0 100 100">
                <circle cx="50" cy="50" r="42" fill="none" stroke="#2d2d44" stroke-width="14"/>
                <circle id="budget-ring" cx="50" cy="50" r="42" fill="none" 
                        stroke="#8b5cf6" stroke-width="14" stroke-dasharray="263.9" stroke-dashoffset="65"
                        stroke-linecap="round"/>
              </svg>
              <div class="absolute inset-0 flex flex-col items-center justify-center">
                <p class="text-5xl font-bold" id="used-amount">$5,950</p>
                <p class="text-sm text-gray-400">å·²ç”¨ / $15,000</p>
              </div>
            </div>
          </div>
        </div>
      </div>

      <!-- Recent Transactions & Goals -->
      <div class="grid grid-cols-1 lg:grid-cols-2 gap-6">
        <div class="card p-6">
          <h2 class="text-xl font-semibold mb-4">æœ€è¿‘äº¤æ˜“</h2>
          <table class="w-full text-sm">
            <thead><tr class="text-gray-400 border-b border-[#2d2d44]"><th class="py-3 text-left">æ—¥æœŸ</th><th>é‡‘é¡</th><th>é …ç›®</th><th>é¡åˆ¥</th></tr></thead>
            <tbody id="transaction-table">
              <!-- JS will fill if needed -->
            </tbody>
          </table>
        </div>
        <div class="card p-6">
          <h2 class="text-xl font-semibold mb-4">å„²è“„ç›®æ¨™é€²åº¦</h2>
          <div class="space-y-8">
            <div>
              <div class="flex justify-between text-sm mb-2"><span>MacBook Pro</span><span class="text-purple-400">7%</span></div>
              <div class="h-3 bg-[#2d2d44] rounded-full"><div class="h-3 purple-gradient rounded-full w-[7%]"></div></div>
            </div>
            <div>
              <div class="flex justify-between text-sm mb-2"><span>æ–°è»Šé¦–æœŸ</span><span class="text-purple-400">42%</span></div>
              <div class="h-3 bg-[#2d2d44] rounded-full"><div class="h-3 purple-gradient rounded-full w-[42%]"></div></div>
            </div>
          </div>
        </div>
      </div>
    </div>
  </div>

  <script>
    // ====================== è®Šæ•¸ ======================
    let monthlyIncome = 15000;
    let weeklyFund = 1000;

    // ====================== ç™»å…¥ ======================
    function handleLogin() {
      const pw = document.getElementById('password').value;
      if (pw.length > 0) {
        document.getElementById('login-screen').classList.add('hidden');
        document.getElementById('dashboard').classList.remove('hidden');
        updateAllCalculations();
      } else {
        alert('è«‹è¼¸å…¥å¯†ç¢¼ï¼ˆä»»ä½•éƒ½å¾—ï¼‰');
      }
    }

    function logout() {
      document.getElementById('dashboard').classList.add('hidden');
      document.getElementById('login-screen').classList.remove('hidden');
    }

    // ====================== è¨ˆç®—æ ¸å¿ƒ ======================
    function updateAllCalculations() {
      monthlyIncome = parseFloat(document.getElementById('income-input').value) || 15000;
      
      // æ›´æ–°é¡¯ç¤º
      document.getElementById('income-display').textContent = '$' + monthlyIncome.toLocaleString('en-US');
      
      const nec = Math.round(monthlyIncome * 0.6);
      const enjoy = Math.round(monthlyIncome * 0.1);
      const saveTotal = Math.round(monthlyIncome * 0.3);
      
      document.getElementById('nec-amount').textContent = '$' + nec.toLocaleString('en-US');
      document.getElementById('enjoy-amount').textContent = '$' + enjoy.toLocaleString('en-US');
      document.getElementById('save-amount').textContent = '$' + saveTotal.toLocaleString('en-US');
      
      // æœˆä¾›åŸºé‡‘
      const monthlyFund = Math.round(weeklyFund * 52 / 12);
      document.getElementById('weekly-fund').textContent = '$' + weeklyFund;
      document.getElementById('monthly-fund').textContent = '$' + monthlyFund.toLocaleString('en-US');
      
      // å‰©é¤˜å„²è“„
      const remainingSave = saveTotal - monthlyFund;
      // å¯è‡ªè¡ŒåŠ é¡¯ç¤º
      
      // æ›´æ–°ç¸½çµé¤˜ï¼ˆç°¡å–®æ¨¡æ“¬ï¼‰
      document.getElementById('total-balance').textContent = '$' + Math.round(monthlyIncome * 2.2).toLocaleString('en-US');
      document.getElementById('total-savings').textContent = '$' + Math.round(monthlyIncome * 2.2).toLocaleString('en-US');
      
      // æ›´æ–°é ç®—ç’°ï¼ˆ60%+10%=70% å·²ç”¨ï¼‰
      const usedPercent = 70;
      const offset = 263.9 * (1 - usedPercent/100);
      document.getElementById('budget-ring').setAttribute('stroke-dashoffset', offset);
      document.getElementById('used-amount').textContent = '$' + Math.round(monthlyIncome * 0.7).toLocaleString('en-US');
    }

    // ====================== Chart ======================
    window.onload = function() {
      // é è¨­ç™»å…¥ç•«é¢é¡¯ç¤º
      document.getElementById('login-screen').classList.remove('hidden');
      
      // Chart
      const ctx = document.getElementById('moneyFlowChart').getContext('2d');
      new Chart(ctx, {
        type: 'bar',
        data: {
          labels: ['1æœˆ','2æœˆ','3æœˆ','4æœˆ','5æœˆ','6æœˆ','7æœˆ'],
          datasets: [
            { label: 'æ”¶å…¥', data: [15000,15200,14800,15500,16000,15800,15000], backgroundColor: '#10b981' },
            { label: 'é–‹æ”¯', data: [9000,9200,8800,9500,9800,6222,8500], backgroundColor: '#ef4444' }
          ]
        },
        options: {
          responsive: true,
          scales: { y: { beginAtZero: true, grid: { color: '#2d2d44' } } },
          plugins: { legend: { labels: { color: '#e5e7eb' } } }
        }
      });
      
      // åˆå§‹è¨ˆç®—
      updateAllCalculations();
    };
  </script>
</body>
</html>
